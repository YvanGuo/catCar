C51 COMPILER V9.56.0.0   HW_GPIOCTL51                                                      03/16/2019 15:15:01 PAGE 1   


C51 COMPILER V9.56.0.0, COMPILATION OF MODULE HW_GPIOCTL51
OBJECT MODULE PLACED IN .\list\hw_gpioCtl51.obj
COMPILER INVOKED BY: E:\keil_c51\C51\BIN\C51.EXE driver\51\hw_gpioCtl51.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXT
                    -END PRINT(.\list\hw_gpioCtl51.lst) TABS(2) OBJECT(.\list\hw_gpioCtl51.obj)

line level    source

   1          
   2          /*------------------------------------------------------------------*/
   3          /* --- STC MCU International Limited -------------------------------*/
   4          /* --- STC 1T Series MCU RC Demo -----------------------------------*/
   5          /* --- Mobile: (86)13922805190 -------------------------------------*/
   6          /* --- Fax: 86-0513-55012956,55012947,55012969 ---------------------*/
   7          /* --- Tel: 86-0513-55012928,55012929,55012966 ---------------------*/
   8          /* --- Web: www.GXWMCU.com -----------------------------------------*/
   9          /* --- QQ:  800003751 ----------------------------------------------*/
  10          /* If you want to use the program or the program referenced in the  */
  11          /* article, please specify in which data and procedures from STC    */
  12          /*------------------------------------------------------------------*/
  13          
  14          /*************  ¹¦ÄÜËµÃ÷  **************
  15          
  16          ±¾ÎÄ¼şÎªSTC8xxxÏµÁĞµÄ¶Ë¿Ú³õÊ¼»¯³ÌĞò,ÓÃ»§¼¸ºõ¿ÉÒÔ²»ĞŞ¸ÄÕâ¸ö³ÌĞò.
  17          
  18          
  19          ******************************************/
  20          
  21          #include "hw_gpioCtl51.h"
  22          
  23          typedef struct GPIO_InitTypeDef
  24          {
  25            uint8 Pin;        //ÒªÉèÖÃµÄ¶Ë¿Ú    Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
  26            uint8 Mode;       //IOÄ£Ê½,  4¸öÑ¡1,  GPIO_PullUp(×¼Ë«Ïò¿Ú),GPIO_HighZ(¸ß×èÊäÈë),GPIO_OUT_OD(¿ªÂ©Ä£Ê½),GPIO_O
             -UT_PP(ÍÆÍìÊä³ö)
  27            uint8 PullUp_3K7;     //ÄÚ²¿ÉÏÀ­3.7Kµç×è, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
  28            uint8 SchmittDisable;   //½ûÖ¹Ê©ÃÜÌØÊäÈë, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
  29          } GPIO_InitTypeDef;
  30          
  31          
  32          //========================================================================
  33          // º¯Êı: u8 GPIO_Inilize(u8 GPIO, GPIO_InitTypeDef *GPIOx)
  34          // ÃèÊö: ³õÊ¼»¯IO¿Ú, ½«IOÉèÖÃÎª×¼Ë«Ïò¿Ú¡¢ÍÆÍìÊä³ö¡¢¿ªÂ©Êä³ö¡¢¸ß×èÊäÈëÕâ4ÖÖÄ£Ê½Ö®Ò», ²¢¿ÉÒÔÔÊĞíÄÚ²¿¶îÍâµÄ3.
             -7KÉÏÀ­µç×è.
  35          // ²ÎÊı:  GPIO: Òª³õÊ¼»¯µÄIO, È¡ÖµGPIO_P0 ~ GPIO_P7.
  36          //       GPIOx: ½á¹¹ÌåÖ¸Õë,Çë²Î¿¼GPIO.hÀïµÄ¶¨Òå.
  37          // ·µ»Ø: ³É¹¦·µ»Ø0, ´íÎó·µ»Ø1.
  38          // °æ±¾: V1.0, 2018-3-22
  39          //========================================================================
  40          static uint8  GPIO_Inilize(uint8 GPIO, GPIO_InitTypeDef *GPIOx)
  41          {
  42   1        if((GPIO > GPIO_P7) || (GPIOx->Mode > GPIO_OUT_PP))   return 1; //´íÎó
  43   1      
  44   1        EAXSFR(); //·ÃÎÊÀ©Õ¹SFR(XSFR)
  45   1        if(GPIO == GPIO_P0)
  46   1        {
  47   2          if(GPIOx->Mode == GPIO_PullUp)    P0M1 &= ~GPIOx->Pin,  P0M0 &= ~GPIOx->Pin;   //ÉÏÀ­×¼Ë«Ïò¿Ú
  48   2          if(GPIOx->Mode == GPIO_HighZ)   P0M1 |=  GPIOx->Pin,  P0M0 &= ~GPIOx->Pin;   //¸¡¿ÕÊäÈë
  49   2          if(GPIOx->Mode == GPIO_OUT_OD)    P0M1 |=  GPIOx->Pin,  P0M0 |=  GPIOx->Pin;   //¿ªÂ©Êä³ö
  50   2          if(GPIOx->Mode == GPIO_OUT_PP)    P0M1 &= ~GPIOx->Pin,  P0M0 |=  GPIOx->Pin;   //ÍÆÍìÊä³ö
  51   2          P0PU  = GPIOx->PullUp_3K7;    //ÄÚ²¿ÉÏÀ­3.7Kµç×è, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
  52   2          P0NCS = GPIOx->SchmittDisable;  //½ûÖ¹Ê©ÃÜÌØÊäÈë, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
C51 COMPILER V9.56.0.0   HW_GPIOCTL51                                                      03/16/2019 15:15:01 PAGE 2   

  53   2        }
  54   1        if(GPIO == GPIO_P1)
  55   1        {
  56   2          if(GPIOx->Mode == GPIO_PullUp)    P1M1 &= ~GPIOx->Pin,  P1M0 &= ~GPIOx->Pin;   //ÉÏÀ­×¼Ë«Ïò¿Ú
  57   2          if(GPIOx->Mode == GPIO_HighZ)   P1M1 |=  GPIOx->Pin,  P1M0 &= ~GPIOx->Pin;   //¸¡¿ÕÊäÈë
  58   2          if(GPIOx->Mode == GPIO_OUT_OD)    P1M1 |=  GPIOx->Pin,  P1M0 |=  GPIOx->Pin;   //¿ªÂ©Êä³ö
  59   2          if(GPIOx->Mode == GPIO_OUT_PP)    P1M1 &= ~GPIOx->Pin,  P1M0 |=  GPIOx->Pin;   //ÍÆÍìÊä³ö
  60   2          P1PU  = GPIOx->PullUp_3K7;    //ÄÚ²¿ÉÏÀ­3.7Kµç×è, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
  61   2          P1NCS = GPIOx->SchmittDisable;  //½ûÖ¹Ê©ÃÜÌØÊäÈë, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
  62   2        }
  63   1        if(GPIO == GPIO_P2)
  64   1        {
  65   2          if(GPIOx->Mode == GPIO_PullUp)    P2M1 &= ~GPIOx->Pin,  P2M0 &= ~GPIOx->Pin;   //ÉÏÀ­×¼Ë«Ïò¿Ú
  66   2          if(GPIOx->Mode == GPIO_HighZ)   P2M1 |=  GPIOx->Pin,  P2M0 &= ~GPIOx->Pin;   //¸¡¿ÕÊäÈë
  67   2          if(GPIOx->Mode == GPIO_OUT_OD)    P2M1 |=  GPIOx->Pin,  P2M0 |=  GPIOx->Pin;   //¿ªÂ©Êä³ö
  68   2          if(GPIOx->Mode == GPIO_OUT_PP)    P2M1 &= ~GPIOx->Pin,  P2M0 |=  GPIOx->Pin;   //ÍÆÍìÊä³ö
  69   2          P2PU  = GPIOx->PullUp_3K7;    //ÄÚ²¿ÉÏÀ­3.7Kµç×è, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
  70   2          P2NCS = GPIOx->SchmittDisable;  //½ûÖ¹Ê©ÃÜÌØÊäÈë, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
  71   2        }
  72   1        if(GPIO == GPIO_P3)
  73   1        {
  74   2          if(GPIOx->Mode == GPIO_PullUp)    P3M1 &= ~GPIOx->Pin,  P3M0 &= ~GPIOx->Pin;   //ÉÏÀ­×¼Ë«Ïò¿Ú
  75   2          if(GPIOx->Mode == GPIO_HighZ)   P3M1 |=  GPIOx->Pin,  P3M0 &= ~GPIOx->Pin;   //¸¡¿ÕÊäÈë
  76   2          if(GPIOx->Mode == GPIO_OUT_OD)    P3M1 |=  GPIOx->Pin,  P3M0 |=  GPIOx->Pin;   //¿ªÂ©Êä³ö
  77   2          if(GPIOx->Mode == GPIO_OUT_PP)    P3M1 &= ~GPIOx->Pin,  P3M0 |=  GPIOx->Pin;   //ÍÆÍìÊä³ö
  78   2          P3PU  = GPIOx->PullUp_3K7;    //ÄÚ²¿ÉÏÀ­3.7Kµç×è, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
  79   2          P3NCS = GPIOx->SchmittDisable;  //½ûÖ¹Ê©ÃÜÌØÊäÈë, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
  80   2        }
  81   1        if(GPIO == GPIO_P4)
  82   1        {
  83   2          if(GPIOx->Mode == GPIO_PullUp)    P4M1 &= ~GPIOx->Pin,  P4M0 &= ~GPIOx->Pin;   //ÉÏÀ­×¼Ë«Ïò¿Ú
  84   2          if(GPIOx->Mode == GPIO_HighZ)   P4M1 |=  GPIOx->Pin,  P4M0 &= ~GPIOx->Pin;   //¸¡¿ÕÊäÈë
  85   2          if(GPIOx->Mode == GPIO_OUT_OD)    P4M1 |=  GPIOx->Pin,  P4M0 |=  GPIOx->Pin;   //¿ªÂ©Êä³ö
  86   2          if(GPIOx->Mode == GPIO_OUT_PP)    P4M1 &= ~GPIOx->Pin,  P4M0 |=  GPIOx->Pin;   //ÍÆÍìÊä³ö
  87   2          P4PU  = GPIOx->PullUp_3K7;    //ÄÚ²¿ÉÏÀ­3.7Kµç×è, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
  88   2          P4NCS = GPIOx->SchmittDisable;  //½ûÖ¹Ê©ÃÜÌØÊäÈë, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
  89   2        }
  90   1        if(GPIO == GPIO_P5)
  91   1        {
  92   2          if(GPIOx->Mode == GPIO_PullUp)    P5M1 &= ~GPIOx->Pin,  P5M0 &= ~GPIOx->Pin;   //ÉÏÀ­×¼Ë«Ïò¿Ú
  93   2          if(GPIOx->Mode == GPIO_HighZ)   P5M1 |=  GPIOx->Pin,  P5M0 &= ~GPIOx->Pin;   //¸¡¿ÕÊäÈë
  94   2          if(GPIOx->Mode == GPIO_OUT_OD)    P5M1 |=  GPIOx->Pin,  P5M0 |=  GPIOx->Pin;   //¿ªÂ©Êä³ö
  95   2          if(GPIOx->Mode == GPIO_OUT_PP)    P5M1 &= ~GPIOx->Pin,  P5M0 |=  GPIOx->Pin;   //ÍÆÍìÊä³ö
  96   2          P5PU  = GPIOx->PullUp_3K7;    //ÄÚ²¿ÉÏÀ­3.7Kµç×è, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
  97   2          P5NCS = GPIOx->SchmittDisable;  //½ûÖ¹Ê©ÃÜÌØÊäÈë, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
  98   2        }
  99   1        if(GPIO == GPIO_P6)
 100   1        {
 101   2          if(GPIOx->Mode == GPIO_PullUp)    P6M1 &= ~GPIOx->Pin,  P6M0 &= ~GPIOx->Pin;   //ÉÏÀ­×¼Ë«Ïò¿Ú
 102   2          if(GPIOx->Mode == GPIO_HighZ)   P6M1 |=  GPIOx->Pin,  P6M0 &= ~GPIOx->Pin;   //¸¡¿ÕÊäÈë
 103   2          if(GPIOx->Mode == GPIO_OUT_OD)    P6M1 |=  GPIOx->Pin,  P6M0 |=  GPIOx->Pin;   //¿ªÂ©Êä³ö
 104   2          if(GPIOx->Mode == GPIO_OUT_PP)    P6M1 &= ~GPIOx->Pin,  P6M0 |=  GPIOx->Pin;   //ÍÆÍìÊä³ö
 105   2          P6PU  = GPIOx->PullUp_3K7;    //ÄÚ²¿ÉÏÀ­3.7Kµç×è, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
 106   2          P6NCS = GPIOx->SchmittDisable;  //½ûÖ¹Ê©ÃÜÌØÊäÈë, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
 107   2        } 
 108   1        if(GPIO == GPIO_P7)
 109   1        {
 110   2          if(GPIOx->Mode == GPIO_PullUp)    P7M1 &= ~GPIOx->Pin,  P7M0 &= ~GPIOx->Pin;   //ÉÏÀ­×¼Ë«Ïò¿Ú
 111   2          if(GPIOx->Mode == GPIO_HighZ)   P7M1 |=  GPIOx->Pin,  P7M0 &= ~GPIOx->Pin;   //¸¡¿ÕÊäÈë
 112   2          if(GPIOx->Mode == GPIO_OUT_OD)    P7M1 |=  GPIOx->Pin,  P7M0 |=  GPIOx->Pin;   //¿ªÂ©Êä³ö
 113   2          if(GPIOx->Mode == GPIO_OUT_PP)    P7M1 &= ~GPIOx->Pin,  P7M0 |=  GPIOx->Pin;   //ÍÆÍìÊä³ö
 114   2          P7PU  = GPIOx->PullUp_3K7;    //ÄÚ²¿ÉÏÀ­3.7Kµç×è, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
C51 COMPILER V9.56.0.0   HW_GPIOCTL51                                                      03/16/2019 15:15:01 PAGE 3   

 115   2          P7NCS = GPIOx->SchmittDisable;  //½ûÖ¹Ê©ÃÜÌØÊäÈë, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 | Pin3
 116   2        }
 117   1        EAXRAM(); //·ÃÎÊÀ©Õ¹RAM(XRAM)
 118   1        return 0; //³É¹¦
 119   1      }
 120          
 121          void HW_GPIO_config(uint8 pin, PIN_MODE mode)
 122          {
 123   1        GPIO_InitTypeDef  GPIO_InitStructure;       //½á¹¹¶¨Òå
 124   1        GPIO_InitStructure.Pin            = pin%8;  //Ö¸¶¨ÒªÉèÖÃµÄ¶Ë¿Ú    Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pi
             -n0 | Pin3
 125   1        GPIO_InitStructure.PullUp_3K7     = 0;        //ÄÚ²¿ÉÏÀ­3.7Kµç×è, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin
             -0 | Pin3
 126   1        GPIO_InitStructure.SchmittDisable = 0;        //½ûÖ¹Ê©ÃÜÌØÊäÈë, Pin0~Pin7»òPinAll, ¶à¸öÏîÓÃ»ò²Ù×÷, ±ÈÈç Pin0 
             -| Pin3
 127   1        
 128   1        switch(mode){
 129   2          case OUTPUT:{
 130   3          
 131   3            GPIO_InitStructure.Mode = GPIO_OUT_PP;  //Ö¸¶¨IOµÄÄ£Ê½, 4¸öÑ¡1, GPIO_PullUp(×¼Ë«Ïò¿Ú),GPIO_HighZ(¸ß×èÊäÈ
             -ë),GPIO_OUT_OD(¿ªÂ©Ä£Ê½),GPIO_OUT_PP(ÍÆÍìÊä³ö)
 132   3            break;
 133   3          }
 134   2          case INPUT:{
 135   3          
 136   3            GPIO_InitStructure.Mode = GPIO_HighZ;
 137   3            break;
 138   3          }
 139   2          case INPUT_PULLUP:{
 140   3          
 141   3            GPIO_InitStructure.Mode = GPIO_PullUp;
 142   3            GPIO_InitStructure.PullUp_3K7 = pin%8;
 143   3            break;
 144   3          }
 145   2          case PWM:{
 146   3          
 147   3            GPIO_InitStructure.Mode = GPIO_OUT_PP;
 148   3            break;
 149   3          }
 150   2          default:
 151   2            GPIO_InitStructure.Mode = GPIO_OUT_PP;
 152   2            break;
 153   2        }
 154   1        
 155   1        
 156   1        GPIO_Inilize(pin/8,&GPIO_InitStructure);  //³õÊ¼»¯
 157   1      
 158   1      }
 159          
 160          void HW_GPIO_digitalWrite(uint8 pin, int32 val)
 161          {
 162   1        uint8 gpioGruop = pin/8;
 163   1        unsigned char gpioGruopPinBit = 1;
 164   1        gpioGruopPinBit = gpioGruopPinBit<<pin%8;
 165   1        switch(gpioGruop){
 166   2        
 167   2          case 0:{
 168   3          
 169   3              if(LOW == val){
 170   4              
 171   4                P0 &= ~gpioGruopPinBit;
 172   4              }else{
C51 COMPILER V9.56.0.0   HW_GPIOCTL51                                                      03/16/2019 15:15:01 PAGE 4   

 173   4              
 174   4                P0 |= gpioGruopPinBit;
 175   4              }
 176   3              
 177   3              break;
 178   3          }
 179   2          case 1:{
 180   3          
 181   3              if(LOW == val){
 182   4              
 183   4                P1 &= ~gpioGruopPinBit;
 184   4              }else{
 185   4              
 186   4                P1 |= gpioGruopPinBit;
 187   4              }
 188   3              break;
 189   3          }
 190   2          case 2:{
 191   3          
 192   3              if(LOW == val){
 193   4              
 194   4                P2 &= ~gpioGruopPinBit;
 195   4              }else{
 196   4              
 197   4                P2 |= gpioGruopPinBit;
 198   4              }
 199   3              break;
 200   3          }
 201   2          case 3:{
 202   3          
 203   3              if(LOW == val){
 204   4              
 205   4                P3 &= ~gpioGruopPinBit;
 206   4              }else{
 207   4              
 208   4                P3 |= gpioGruopPinBit;
 209   4              }
 210   3              break;
 211   3          }
 212   2          case 4:{
 213   3          
 214   3              if(LOW == val){
 215   4              
 216   4                P4 &= ~gpioGruopPinBit;
 217   4              }else{
 218   4              
 219   4                P4 |= gpioGruopPinBit;
 220   4              }
 221   3              break;
 222   3          }
 223   2          case 5:{
 224   3          
 225   3              if(LOW == val){
 226   4              
 227   4                P5 &= ~gpioGruopPinBit;
 228   4              }else{
 229   4              
 230   4                P5 |= gpioGruopPinBit;
 231   4              }
 232   3              break;
 233   3          }
 234   2          case 6:{
C51 COMPILER V9.56.0.0   HW_GPIOCTL51                                                      03/16/2019 15:15:01 PAGE 5   

 235   3          
 236   3              if(LOW == val){
 237   4              
 238   4                P6 &= ~gpioGruopPinBit;
 239   4              }else{
 240   4              
 241   4                P6 |= gpioGruopPinBit;
 242   4              }
 243   3              break;
 244   3          }
 245   2          case 7:{
 246   3          
 247   3              if(LOW == val){
 248   4              
 249   4                P7 &= ~gpioGruopPinBit;
 250   4              }else{
 251   4              
 252   4                P7 |= gpioGruopPinBit;
 253   4              }
 254   3              break;
 255   3          }
 256   2          
 257   2          default:
 258   2            break;
 259   2        }
 260   1      
 261   1      }
 262          
 263          uint8 HW_GPIO_digitalRead(uint8 pin)
 264          {
 265   1        uint8 retVal = 0;
 266   1        uint8 gpioGruop = pin/8;
 267   1        unsigned char gpioGruopPinBit = 1;
 268   1        gpioGruopPinBit = gpioGruopPinBit<<pin%8;
 269   1        
 270   1        
 271   1        switch(gpioGruop){
 272   2        
 273   2          case 0:{
 274   3              P0 |= gpioGruopPinBit;  // ¶ÁÈ¡Ç°ÏÈÊ¹ÄÜÄÚ²¿ÈõÉÏÀ­µç×è
 275   3              _nop_();  // µÈ´ıÁ½¸öÊ±ÖÓ
 276   3              _nop_();  //
 277   3              retVal = P0;
 278   3              retVal &= gpioGruopPinBit;
 279   3              break;
 280   3          }
 281   2          case 1:{
 282   3              P1 |= gpioGruopPinBit;  // ¶ÁÈ¡Ç°ÏÈÊ¹ÄÜÄÚ²¿ÈõÉÏÀ­µç×è
 283   3              _nop_();  // µÈ´ıÁ½¸öÊ±ÖÓ
 284   3              _nop_();  //
 285   3              retVal = P1;
 286   3              retVal &= gpioGruopPinBit;
 287   3              break;
 288   3          }
 289   2          case 2:{
 290   3              P2 |= gpioGruopPinBit;  // ¶ÁÈ¡Ç°ÏÈÊ¹ÄÜÄÚ²¿ÈõÉÏÀ­µç×è
 291   3              _nop_();  // µÈ´ıÁ½¸öÊ±ÖÓ
 292   3              _nop_();  //
 293   3              retVal = P2;
 294   3              retVal &= gpioGruopPinBit;
 295   3              break;
 296   3          }
C51 COMPILER V9.56.0.0   HW_GPIOCTL51                                                      03/16/2019 15:15:01 PAGE 6   

 297   2          case 3:{
 298   3              P3 |= gpioGruopPinBit;  // ¶ÁÈ¡Ç°ÏÈÊ¹ÄÜÄÚ²¿ÈõÉÏÀ­µç×è
 299   3              _nop_();  // µÈ´ıÁ½¸öÊ±ÖÓ
 300   3              _nop_();  //
 301   3              retVal = P3;
 302   3              retVal &= gpioGruopPinBit;
 303   3              break;
 304   3          }
 305   2          case 4:{
 306   3              P4 |= gpioGruopPinBit;  // ¶ÁÈ¡Ç°ÏÈÊ¹ÄÜÄÚ²¿ÈõÉÏÀ­µç×è
 307   3              _nop_();  // µÈ´ıÁ½¸öÊ±ÖÓ
 308   3              _nop_();  //
 309   3              retVal = P4;
 310   3              retVal &= gpioGruopPinBit;
 311   3              break;
 312   3          }
 313   2          case 5:{
 314   3              P6 |= gpioGruopPinBit;  // ¶ÁÈ¡Ç°ÏÈÊ¹ÄÜÄÚ²¿ÈõÉÏÀ­µç×è
 315   3              _nop_();  // µÈ´ıÁ½¸öÊ±ÖÓ
 316   3              _nop_();  //
 317   3              retVal = P5;
 318   3              retVal &= gpioGruopPinBit;
 319   3              break;
 320   3          }
 321   2          case 6:{
 322   3              P6 |= gpioGruopPinBit;  // ¶ÁÈ¡Ç°ÏÈÊ¹ÄÜÄÚ²¿ÈõÉÏÀ­µç×è
 323   3              _nop_();  // µÈ´ıÁ½¸öÊ±ÖÓ
 324   3              _nop_();  //
 325   3              retVal = P6;
 326   3              retVal &= gpioGruopPinBit;
 327   3              break;
 328   3          }
 329   2          case 7:{
 330   3              P7 |= gpioGruopPinBit;  // ¶ÁÈ¡Ç°ÏÈÊ¹ÄÜÄÚ²¿ÈõÉÏÀ­µç×è
 331   3              _nop_();  // µÈ´ıÁ½¸öÊ±ÖÓ
 332   3              _nop_();  //
 333   3              retVal = P7;
 334   3              retVal &= gpioGruopPinBit;
 335   3              break;
 336   3          }
 337   2          
 338   2          default:
 339   2            break;
 340   2        }
 341   1        
 342   1        return retVal;
 343   1      
 344   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =   1113    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----       4
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
